<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-tw">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Flow Matching,Continuity Equation,Divergence,Gauss Divergence Theorem," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="ä¸‹ä¸€ç¯‡: å˜—è©¦ç†è§£ Flow Matching
å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£çœ‹ flow matching è«–æ–‡æ™‚, åœ¨é‚„åœ¨èªªæ˜é å‚™çŸ¥è­˜çš„åœ°æ–¹å°±é™£äº¡äº†, åˆ¥æ“”å¿ƒä½ ä¸å­¤å–®! æˆ‘ä¹Ÿæ­»åœ¨é‚£è£¡.è«–æ–‡è£¡å¾ˆå¤šåœ°æ–¹ç”¨åˆ°äº† Continuity Equation ä¾†æ¨å°. é€™å€‹å®šç†ä¹Ÿç›¸ç•¶æ–¼æ˜¯ä¸€å€‹æ ¸å¿ƒæ¦‚å¿µ.æŠ±æŒä¸€å®šè¦äº†è§£æ¸…æ¥šçš„æƒ³æ³•, çµæœæ˜¯å­¸ç¿’åˆ°äº†ç¾å¦™çš„ Gaussâ€™s Divergence Theorem å’Œ Cont">
<meta property="og:type" content="article">
<meta property="og:title" content="è®€ Flow Matching å‰è¦å…ˆç†è§£çš„æ±è¥¿">
<meta property="og:url" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/index.html">
<meta property="og:site_name" content="æ£’æ£’ç”Ÿ">
<meta property="og:description" content="ä¸‹ä¸€ç¯‡: å˜—è©¦ç†è§£ Flow Matching
å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£çœ‹ flow matching è«–æ–‡æ™‚, åœ¨é‚„åœ¨èªªæ˜é å‚™çŸ¥è­˜çš„åœ°æ–¹å°±é™£äº¡äº†, åˆ¥æ“”å¿ƒä½ ä¸å­¤å–®! æˆ‘ä¹Ÿæ­»åœ¨é‚£è£¡.è«–æ–‡è£¡å¾ˆå¤šåœ°æ–¹ç”¨åˆ°äº† Continuity Equation ä¾†æ¨å°. é€™å€‹å®šç†ä¹Ÿç›¸ç•¶æ–¼æ˜¯ä¸€å€‹æ ¸å¿ƒæ¦‚å¿µ.æŠ±æŒä¸€å®šè¦äº†è§£æ¸…æ¥šçš„æƒ³æ³•, çµæœæ˜¯å­¸ç¿’åˆ°äº†ç¾å¦™çš„ Gaussâ€™s Divergence Theorem å’Œ Cont">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 1.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 2.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 34.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 5.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 6.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 7.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 8.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 9.png">
<meta property="og:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 10.png">
<meta property="og:updated_time" content="2024-11-06T12:18:02.076Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è®€ Flow Matching å‰è¦å…ˆç†è§£çš„æ±è¥¿">
<meta name="twitter:description" content="ä¸‹ä¸€ç¯‡: å˜—è©¦ç†è§£ Flow Matching
å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£çœ‹ flow matching è«–æ–‡æ™‚, åœ¨é‚„åœ¨èªªæ˜é å‚™çŸ¥è­˜çš„åœ°æ–¹å°±é™£äº¡äº†, åˆ¥æ“”å¿ƒä½ ä¸å­¤å–®! æˆ‘ä¹Ÿæ­»åœ¨é‚£è£¡.è«–æ–‡è£¡å¾ˆå¤šåœ°æ–¹ç”¨åˆ°äº† Continuity Equation ä¾†æ¨å°. é€™å€‹å®šç†ä¹Ÿç›¸ç•¶æ–¼æ˜¯ä¸€å€‹æ ¸å¿ƒæ¦‚å¿µ.æŠ±æŒä¸€å®šè¦äº†è§£æ¸…æ¥šçš„æƒ³æ³•, çµæœæ˜¯å­¸ç¿’åˆ°äº†ç¾å¦™çš„ Gaussâ€™s Divergence Theorem å’Œ Cont">
<meta name="twitter:image" content="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/"/>





  <title> è®€ Flow Matching å‰è¦å…ˆç†è§£çš„æ±è¥¿ | æ£’æ£’ç”Ÿ </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  














  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">æ£’æ£’ç”Ÿ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">è®“å­¸ç¿’è®Šæˆä¸€ç¨®ç¿’æ…£</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é 
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†é¡
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            é—œæ–¼
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            æ­¸æª”
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ¨™ç±¤
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chih-Sheng Chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ£’æ£’ç”Ÿ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                è®€ Flow Matching å‰è¦å…ˆç†è§£çš„æ±è¥¿
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ç™¼è¡¨æ–¼</span>
              
              <time title="å‰µå»ºæ–¼" itemprop="dateCreated datePublished" datetime="2024-10-29T21:17:24+08:00">
                2024-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†é¡æ–¼</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ML/" itemprop="url" rel="index">
                    <span itemprop="name">ML</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>[object Object]
            </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<hr>
<p>ä¸‹ä¸€ç¯‡: <a href="https://bobondemon.github.io/2024/11/06/%E5%98%97%E8%A9%A6%E7%90%86%E8%A7%A3-Flow-Matching/">å˜—è©¦ç†è§£ Flow Matching</a></p>
<p>å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£çœ‹ <a href="https://arxiv.org/abs/2210.02747" target="_blank" rel="external">flow matching è«–æ–‡</a>æ™‚, åœ¨é‚„åœ¨èªªæ˜é å‚™çŸ¥è­˜çš„åœ°æ–¹å°±é™£äº¡äº†, åˆ¥æ“”å¿ƒä½ ä¸å­¤å–®! æˆ‘ä¹Ÿæ­»åœ¨é‚£è£¡.<br>è«–æ–‡è£¡å¾ˆå¤šåœ°æ–¹ç”¨åˆ°äº† <a href="https://www.wikiwand.com/en/articles/Continuity_equation" target="_blank" rel="external">Continuity Equation</a> ä¾†æ¨å°. é€™å€‹å®šç†ä¹Ÿç›¸ç•¶æ–¼æ˜¯ä¸€å€‹æ ¸å¿ƒæ¦‚å¿µ.<br>æŠ±æŒä¸€å®šè¦äº†è§£æ¸…æ¥šçš„æƒ³æ³•, çµæœæ˜¯å­¸ç¿’åˆ°äº†ç¾å¦™çš„ <strong>Gaussâ€™s Divergence Theorem</strong> å’Œ <strong>Continuity Equation</strong>!<br>é€šäº†! é€šæš¢äº†! â€¦. æˆ‘æŒ‡ä»»ç£äºŒè„ˆ<br>ğŸ‰ ä¹Ÿå‰›å¥½é€™æ˜¯æœ¬éƒ¨è½æ ¼ç¬¬ 100 ç¯‡çš„æ–‡ç« , å°±æ±ºå®šç”¨é€™å€‹ä¸»é¡Œäº†! ğŸ‰<br>è®“æˆ‘å€‘é€²å…¥é€™ç¾å¦™çš„ <strong>â€œç‰©ç† feat æ©Ÿå™¨å­¸ç¿’ (Physics x ML)â€</strong> çš„ä¸–ç•Œå§!<br>(æœ¬æ–‡ç”¨çš„åœ–æª”: <a href="div_fig.drawio">div_fig.drawio</a>)</p>
<p>æˆ‘å€‘åˆ†æˆå¹¾å¤§æ®µè½ä¾†èªªæ˜:<br>&emsp;A. Vector Field<br>&emsp;B. Divergence (æ•£åº¦)<br>&emsp;C. Gaussâ€™s Divergence Theorem<br>&emsp;D. Mass Conservation or Continuity Equation<br>&emsp;E. è·Ÿ Flow Matching æœ‰å•¥é—œè¯?</p>
<a id="more"></a>
<hr>
<h2 id="A-Vector-Field"><a href="#A-Vector-Field" class="headerlink" title="A. Vector Field"></a>A. Vector Field</h2><p>é€™æ˜¯å¾<a href="https://wifi.cwa.gov.tw/v2/" target="_blank" rel="external">ä¸­å¤®æ°£è±¡å±€çš„é¢¨å ´åœ–</a>æ“·å–çš„<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image.png" width="80%" height="80%"> é¡ä¼¼çš„åœ–æƒ³æˆ‘å¤§å®¶æ‡‰è©²ä¸é™Œç”Ÿ, é¡¯ç¤ºäº†æ¯å€‹ä½ç½® $(x,y)$ å°æ‡‰çš„é¢¨é€Ÿâ€å‘é‡â€ <span>$\vec{F}\in\mathbb{R}^2$</span><!-- Has MathJax -->, i.e. <span>$\vec{F}:\mathbb{R}^2\rightarrow\mathbb{R}^2$</span><!-- Has MathJax -->:<br><span>$$\vec{F}(x,y)=F_1(x,y)\vec{i}+F_2(x,y)\vec{j}$$</span><!-- Has MathJax --> å…¶ä¸­ $\vec{i},\vec{j}$ åˆ†åˆ¥æ˜¯ $x,y$ è»¸çš„å–®ä½å‘é‡. é¡è‰²ä»£è¡¨è©²å‘é‡å€‹å¼·åº¦.<br>å†èˆ‰å€‹ä¾‹å­ (<a href="https://youtu.be/0QTDisIl9bo?si=ZiZcMIIrPSfW9ArX&amp;t=494" target="_blank" rel="external">ä¾†æº</a>)<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 1.png" width="60%" height="60%"> ç®­è™Ÿé•·åº¦è¡¨ç¤ºå‘é‡å¼·åº¦<br>æ‰€ä»¥ $n$ ç¶­çš„ vector field ç‚º <span>$\vec{F}:\mathbb{R}^n\rightarrow\mathbb{R}^n$</span><!-- Has MathJax --></p>
<hr>
<h2 id="B-Divergence-æ•£åº¦"><a href="#B-Divergence-æ•£åº¦" class="headerlink" title="B. Divergence (æ•£åº¦)"></a>B. Divergence (æ•£åº¦)</h2><p>é‚„è¨˜å¾—æœ€é–‹å§‹å­¸ç©åˆ†çš„æ™‚å€™å—?<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 2.png" width="50%" height="50%"> æˆ‘å€‘å° domain åˆ‡æˆç­‰å‡çš„æ®µè½, ä¸¦ä¸”å‡½æ•¸å€¼å–æ¯å€‹æ®µè½â€å·¦é‚Šçš„å€¼â€, ç„¶å¾Œä¹˜ä¸Šæ®µè½é•·åº¦ $\Delta x$.<br>ä¾‹å¦‚ä¸Šåœ– domain ç‚º $[a,b]$ åˆ‡æˆ $7$ æ®µ, i.e. $[a=x_0,x_1,â€¦,x_7=b]$. ç¬¬ $i$ æ®µ <span>$[x_{i-1},x_i]$</span><!-- Has MathJax --> æˆ‘å€‘å–å·¦é‚Šçš„å‡½æ•¸å€¼ <span>$f(x_{i-1})$</span><!-- Has MathJax -->.<br>å¤§å®¶æ‡‰è©²éƒ½ä¸é™Œç”Ÿ, ä¸éé€™è£¡è¦èªªçš„æ˜¯æŠŠå•é¡Œæ‹†åˆ†çš„å…©é»æŠ€å·§ç­‰ç­‰æœƒç”¨åˆ°:<br>&emsp;1. åˆ‡ç­‰å‡æ®µè½<br>&emsp;2. å–å·¦é‚Šå‡½æ•¸å€¼<br>æƒ³åƒ 2 ç¶­ç©ºé–“, æˆ‘å€‘æœ‰ä¸€å€‹ vector field <span>$\vec{F}:\mathbb{R}^2\rightarrow \mathbb{R}^2$</span><!-- Has MathJax -->, i.e.<br><span>$$\vec{F}(x,y)=F_1(x,y)\vec{i}+F_2(x,y)\vec{j}$$</span><!-- Has MathJax --> å¦‚åŒä¸Šè¿°ç©åˆ†ä¸€æ¨£, å…ˆå°‡ç©ºé–“åˆ‡æˆç­‰å‡æ–¹å½¢çš„é¢ç©, ä»¤å·¦ä¸‹è§’åº§æ¨™ç‚º $(x_0,y_0)$, å³ä¸Šè§’åº§æ¨™ç‚º <span>$(x_0+\Delta x,y_0+\Delta y)$</span><!-- Has MathJax -->, è§€å¯Ÿå…¶ä¸­ä¸€å¡Šæ–¹å½¢ $A$ å’Œå…¶å°æ‡‰çš„ vector field $\vec{F}$:<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 34.png" width="100%" height="100%"> æˆ‘å€‘å¸Œæœ›è¨ˆç®— $\vec{F}$ å°é€™å¡Šé¢ç© $A$ çš„æ·¨æµå‡º (æµå…¥) é‡<br>æ³¨æ„åˆ°<strong>åªéœ€è€ƒæ…®é‚Šç•Œ</strong>, å› ç‚ºé¢ç©å…§çš„æµå…¥/å‡ºä¸å½±éŸ¿ç¸½é«”é¢ç©çš„æ·¨æµå…¥/å‡ºé‡<br>é¦–å…ˆçœ‹å·¦é‚Šç•Œ, ä¸¦ä¸”å¦‚åŒåšç©åˆ†æ™‚é¸å–å·¦å€æ®µçš„å‡½æ•¸å€¼ä¸€æ¨£, æˆ‘å€‘é¸æ“‡å·¦ä¸‹è§’é€™é»çš„ vector field å€¼ $\vec{F}(x_0,y_0)$.</p>
<h3 id="å·¦é‚Šç•Œæ·¨æµå‡ºé‡"><a href="#å·¦é‚Šç•Œæ·¨æµå‡ºé‡" class="headerlink" title="å·¦é‚Šç•Œæ·¨æµå‡ºé‡"></a>å·¦é‚Šç•Œæ·¨æµå‡ºé‡</h3><p>$\vec{F}(x_0,y_0)$ è¦èƒ½å°å·¦é‚Šç•Œç”¢ç”Ÿå½±éŸ¿, åªèƒ½æ˜¯ $x$ æ–¹å‘, ä¹Ÿå°±æ˜¯èˆ‡ $\vec{i}$ å…§ç©å¾Œçš„å‘é‡<br><span>$$&lt;\vec{F}(x_0,y_0),\vec{i}&gt;\vec{i}$$</span><!-- Has MathJax --> <img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 5.png" width="50%" height="50%"> ç‚ºä»€éº¼å‘¢? å› ç‚ºèˆ‡ $y$ æ–¹å‘ $\vec{j}$ å…§ç©ç”¢ç”Ÿçš„å‘é‡, åªæœƒåœ¨ $y$ è»¸ä¸Šæµå‹• (å·¦é‚Šç•Œä¸Šç§»å‹•), ä¸æœƒå°æ–¹å‹ $A$ æœ‰æµå…¥æµå‡ºçš„å½±éŸ¿.<br>å› æ­¤å·¦é‚Šç•Œæ·¨æµå‡ºé‡ç‚º:<br><span>$$\begin{align}
&lt;\vec{F}(x_0,y_0),\vec{i}&gt;\Delta y=F_1(x_0,y_0) \Delta y
\end{align}$$</span><!-- Has MathJax --></p>
<blockquote>
<p>å¦‚åŒåœ¨ç©åˆ†ç”¨çš„æŠ€å·§ä¸€æ¨£, æˆ‘å€‘å°ç·šæ®µ $\Delta y$ åªå–äº†ä¸€é»å‡½æ•¸å€¼ä»£è¡¨, ä¸¦èˆ‡ç·šæ®µé•·åº¦ $\Delta y$ ä¹˜èµ·ä¾†</p>
</blockquote>
<h3 id="å³é‚Šç•Œæ·¨æµå‡ºé‡"><a href="#å³é‚Šç•Œæ·¨æµå‡ºé‡" class="headerlink" title="å³é‚Šç•Œæ·¨æµå‡ºé‡"></a>å³é‚Šç•Œæ·¨æµå‡ºé‡</h3><p>åŒç†è€ƒæ…®å³é‚Šç•Œ<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 6.png" width="50%" height="50%"> å³é‚Šç•Œæ·¨æµå‡ºé‡ç‚º:<br><span>$$\begin{align}
&lt;\vec{F}(x_0+\Delta x,y_0),\vec{i}&gt;\Delta y=F_1(x_0+\Delta x,y_0) \Delta y
\end{align}$$</span><!-- Has MathJax --></p>
<h3 id="X-è»¸æ–¹å‘æ·¨æµå‡ºé‡"><a href="#X-è»¸æ–¹å‘æ·¨æµå‡ºé‡" class="headerlink" title="X è»¸æ–¹å‘æ·¨æµå‡ºé‡"></a>X è»¸æ–¹å‘æ·¨æµå‡ºé‡</h3><p>æ³¨æ„åˆ°æˆ‘å€‘å®šç¾©çš„æ˜¯<strong>æµå‡º</strong>é‡, ä¸æ˜¯æµå…¥é‡<br>å› æ­¤å¦‚æœå·¦é‚Šç•Œä¹˜èµ·ä¾†çš„çš„çµæœ (1) æ˜¯æ­£çš„ä»£è¡¨æ˜¯æµå…¥, ä¸æ˜¯æµå‡º, æ‰€ä»¥è‹¥æˆ‘å€‘å®šç¾©çš„æ˜¯â€æµå‡ºâ€é‡, å‰‡ (1) çš„çµæœè¦å¤šä¹˜ä¸€å€‹è² è™Ÿ<br>è€Œå³é‚Šç•Œçš„çµæœ (2) æ˜¯æ­£çš„å°±æ˜¯ä»£è¡¨æµå‡º<br>æ‰€ä»¥ $x$ è»¸æ–¹å‘çš„æ·¨æµå‡ºé‡æ‡‰è©²ç‚º (2) åŠ ä¸Šä¹˜è² è™Ÿçš„ (1):<br><span>$$\begin{align}
[F_1(x_0+\Delta x,y_0) - F_1(x_0,y_0)] \Delta y
\end{align}$$</span><!-- Has MathJax --></p>
<h3 id="Y-è»¸æ–¹å‘æ·¨æµå‡ºé‡"><a href="#Y-è»¸æ–¹å‘æ·¨æµå‡ºé‡" class="headerlink" title="Y è»¸æ–¹å‘æ·¨æµå‡ºé‡"></a>Y è»¸æ–¹å‘æ·¨æµå‡ºé‡</h3><p>åŒç†æˆ‘å€‘å¯å¾— $y$ è»¸æ–¹å‘çš„æ·¨æµå‡ºé‡:<br><span>$$\begin{align}
[F_2(x_0,y_0+\Delta y) - F_2(x_0,y_0)] \Delta x
\end{align}$$</span><!-- Has MathJax --></p>
<h3 id="å–®ä½é¢ç©æ·¨æµå‡ºé‡"><a href="#å–®ä½é¢ç©æ·¨æµå‡ºé‡" class="headerlink" title="å–®ä½é¢ç©æ·¨æµå‡ºé‡"></a>å–®ä½é¢ç©æ·¨æµå‡ºé‡</h3><p>æ–¹å½¢é¢ç© $A$ çš„ç¸½æ·¨æµå‡ºé‡ç‚º (3)+(4):<br><span>$$[F_1(x_0+\Delta x,y_0) - F_1(x_0,y_0)] \Delta y + [F_2(x_0,y_0+\Delta y) - F_2(x_0,y_0)] \Delta x$$</span><!-- Has MathJax --> æ›ç®— â€å–®ä½é¢ç©â€ çš„æ·¨æµå‡ºé‡ç‚º (é™¤ä»¥é¢ç© $\Delta A = \Delta x\Delta y$):<br><span>$$\begin{align}
\frac{F_1(x_0+\Delta x,y_0) - F_1(x_0,y_0)}{\Delta x} + \frac{F_2(x_0,y_0+\Delta y) - F_2(x_0,y_0)}{\Delta y}
\end{align}$$</span><!-- Has MathJax --> å°é¢ç© $\Delta A\rightarrow 0$ å–æ¥µé™å¾Œ, ä»£è¡¨çš„æ˜¯è©² â€œé» $(x_0,y_0)$â€ çš„å–®ä½é¢ç©æ·¨æµå‡ºé‡!</p>
<p><span>$$\lim_{\Delta A\rightarrow0} \frac{F_1(x_0+\Delta x,y_0) - F_1(x_0,y_0)}{\Delta x} + \lim_{\Delta A\rightarrow0}\frac{F_2(x_0,y_0+\Delta y) - F_2(x_0,y_0)}{\Delta y} \\
\Longrightarrow \frac{\partial F_1}{\partial x}(x_0,y_0) + \frac{\partial F_2}{\partial y}(x_0,y_0) \\

= {\color{orange}{\left&lt;\left[
\begin{array}{c}
\partial/\partial x \\ \partial/\partial y
\end{array}
\right],
\left[\begin{array}{c}
F_1 \\ F_2
\end{array}\right]\right&gt;}}(x_0,y_0) \\
={\color{orange}{\nabla\cdot\vec{F}}}(x_0,y_0)$$</span><!-- Has MathJax --> (æ³¨): å…§ç©ç”¨ $&lt;\vec{a},\vec{b}&gt;$ æˆ– $\vec{a}\cdot\vec{b}$ è¡¨ç¤ºéƒ½å¯ä»¥</p>
<h3 id="Divergence-æ•£åº¦ç‰©ç†æ„ç¾©"><a href="#Divergence-æ•£åº¦ç‰©ç†æ„ç¾©" class="headerlink" title="Divergence æ•£åº¦ç‰©ç†æ„ç¾©"></a>Divergence æ•£åº¦ç‰©ç†æ„ç¾©</h3><p>è€ƒæ…® $n$ ç¶­çš„ vector field:<br><span>$$\vec{F}(x_1,x_2,...,x_n)=(F_1,F_2,...,F_n)$$</span><!-- Has MathJax --> å®šç¾©æ•£åº¦ç®—å­ç‚º $\nabla\cdot$ æˆ– $\text{div}$:<br><span>$$\begin{align}
{\color{red}{\text{div}\vec{F}=\nabla\cdot\vec{F} = \sum_{i=1}^n\frac{\partial F_i}{\partial x_i}}}
\end{align}$$</span><!-- Has MathJax --> é‡è¦çš„æ˜¯è¨˜ä½å…¶ç‰©ç†æ„ç¾©:<br>&emsp;ğŸ’¡ <span>$\text{div}\vec{F}(\vec{x})$</span><!-- Has MathJax --> è¡¨ç¤º, é» $\vec{x}$ çš„â€å–®ä½é«”ç©â€å‘é‡å ´çš„æ·¨æµå‡ºé‡<br>&emsp;ğŸ’¡ <span>$\text{div}\vec{F}(\vec{x})$</span><!-- Has MathJax --> è¡¨ç¤º, é» $\vec{x}$ çš„â€å–®ä½é«”ç©â€å‘é‡å ´çš„æ·¨æµå‡ºé‡<br>&emsp;ğŸ’¡ <span>$\text{div}\vec{F}(\vec{x})$</span><!-- Has MathJax --> è¡¨ç¤º, é» $\vec{x}$ çš„â€å–®ä½é«”ç©â€å‘é‡å ´çš„æ·¨æµå‡ºé‡</p>
<hr>
<h2 id="C-Gaussâ€™s-Divergence-Theorem"><a href="#C-Gaussâ€™s-Divergence-Theorem" class="headerlink" title="C. Gaussâ€™s Divergence Theorem"></a>C. Gaussâ€™s Divergence Theorem</h2><p>è€ƒæ…®ç©ºé–“ä¸­æœ‰ä¸€å€‹é«”ç© $V$, æœ‰å°é–‰çš„è¡¨é¢ $\partial V$. å¦‚ä¸‹åœ– (æ“·å– wiki: <a href="https://en.wikipedia.org/wiki/Divergence_theorem" target="_blank" rel="external">Divergence theorem</a>):<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 7.png" width="60%" height="60%"> åŒæ¨£çš„æ‰‹æ³•, æˆ‘å€‘å°‡ $V$ ç”¨å¾ˆå¤šå¾ˆå°çš„ cubes, $dV$, çµ„åˆèµ·ä¾†<br>æ¥è‘—è«‹æƒ³åƒæœ‰ä¸€å€‹å‘é‡å ´ <span>$\vec{F}:\mathbb{R}^3\rightarrow \mathbb{R}^3$</span><!-- Has MathJax --> ç©¿éé€™å€‹ $V$.</p>
<p>â“æˆ‘å€‘è¦æ¢è¨çš„å•é¡Œæ˜¯: <strong>å‘é‡å ´ $\vec{F}$ ä½œç”¨æ–¼ $V$ ç”¢ç”Ÿçš„â€ç¸½â€æ·¨æµå‡ºé‡ç‚ºä½•?</strong></p>
<h3 id="ç”¨é«”ç©åˆ†"><a href="#ç”¨é«”ç©åˆ†" class="headerlink" title="ç”¨é«”ç©åˆ†"></a>ç”¨é«”ç©åˆ†</h3><p>é˜¿! è¦ç®— â€œç¸½â€æ·¨æµå‡ºé‡, è€Œæˆ‘å€‘çŸ¥é“æ•£åº¦å®šç¾©æ˜¯æ¯å€‹â€é»â€çš„å–®ä½æ·¨æµå‡ºé‡, é‚£æŠŠæ¯å€‹é»çš„æ•£åº¦åŠ ç¸½èµ·ä¾†ä¸å°±å¥½äº†å—? i.e. ç”¨é«”ç©åˆ†.<br><span>$$\begin{align}
\iiint_V\nabla\cdot\vec{F}dV
\end{align}$$</span><!-- Has MathJax --> ğŸ‘ğŸ» ç­”å°äº†!<br>ä¸çŸ¥é“å„ä½æœ‰æ²’æœ‰è½éä¸€å¥è©±:</p>
<blockquote>
<p>çœ‹å±±æ˜¯å±±; çœ‹å±±ä¸æ˜¯å±±; çœ‹å±±é‚„æ˜¯å±±</p>
</blockquote>
<p>å‘é‡å ´ $\vec{F}$ ä½œç”¨æ–¼ $V$ ç”¢ç”Ÿçš„â€ç¸½â€æ·¨æµå‡ºé‡çœŸçš„æ˜¯ (7) å—?<br>æˆ‘å€‘å‰›å‰›çš„ç›´è¦ºæƒ³æ³•åœ¨ç¾éšæ®µèªç‚ºæ˜¯å°çš„, é€™æ˜¯æ€è€ƒçš„ç¬¬ä¸€æ­¥: çœ‹å±±æ˜¯å±±<br>æ¥è‘—æƒ³æƒ³â€¦</p>
<h3 id="çœ‹å±±ä¸æ˜¯å±±"><a href="#çœ‹å±±ä¸æ˜¯å±±" class="headerlink" title="çœ‹å±±ä¸æ˜¯å±±"></a>çœ‹å±±ä¸æ˜¯å±±</h3><p>æ€è€ƒä¸€ä¸‹ç›¸é„°çš„å…©å€‹ cubes<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 8.png" width="35%" height="35%"> æˆ‘å€‘å‰›å‰›çš„æƒ³æ³•æ˜¯æŠŠ $V_1$ å’Œ $V_2$ çš„ divergence ç›¸åŠ èµ·ä¾†<br>è€ƒæ…®åœ¨ç›¸æ¥çš„é¢ä¸Šçš„ä¸€å€‹é» <span>$\vec{x}_0=(x_0,y_0,z_0)$</span><!-- Has MathJax -->, <span>$\vec{x}_0$</span><!-- Has MathJax --> åœ¨ $V_1$ è¢«ç®—äº†ä¸€æ¬¡, ç„¶å¾Œåœ¨ $V_2$ åˆè¢«ç®—äº†ä¸€æ¬¡, é€™æ¨£ä¸å°±<strong>é‡è¤‡è¨ˆç®—</strong>äº†å—?? æ‰€ä»¥å‰›å‰›çš„ç›´è¦ºåšæ³•éŒ¯äº†å—?</p>
<p>hmmâ€¦çœ‹å±±ä¸æ˜¯å±±<br>ç¹¼çºŒæ€è€ƒçœ‹çœ‹â€¦</p>
<h3 id="çœ‹å±±é‚„æ˜¯å±±"><a href="#çœ‹å±±é‚„æ˜¯å±±" class="headerlink" title="çœ‹å±±é‚„æ˜¯å±±"></a>çœ‹å±±é‚„æ˜¯å±±</h3><p>è€ƒæ…® vector field $\vec{F}$ æ˜¯ <strong>continuous</strong> çš„, å‰‡<br><span>$$\begin{align}
\lim_{
\vec{x}\rightarrow\vec{x}_0, \vec{x}\in {\color{orange}{S_1}}
}
\vec{F}(\vec{x}) = \lim_{
\vec{x}\rightarrow\vec{x}_0, \vec{x}\in {\color{orange}{S_2}}
}\vec{F}(\vec{x})
\end{align}$$</span><!-- Has MathJax --> <img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 9.png" width="60%" height="60%"> å‰‡å° $V_1$ ä¾†èªª $\vec{F}(\vec{x}_0)$ æ˜¯<strong>æµå‡º</strong>çš„å‘é‡å ´, $V_2$ å‰‡æ˜¯<strong>æµå…¥</strong>çš„å‘é‡å ´, å…©é‚Šè‡ªå·±ç®— divergence ç›¸åŠ çš„è©±å‰›å¥½ä¸€æ­£ä¸€è² , <strong>äº’ç›¸æŠµéŠ·</strong>!<br>æ‰€ä»¥æ˜¯ç”¨é«”ç©åˆ†å°çš„<br>å‘é‡å ´ $\vec{F}$ ä½œç”¨æ–¼ $V$ ç”¢ç”Ÿçš„â€ç¸½â€æ·¨æµå‡ºé‡ç‚º:<br><span>$$\begin{align}
\iiint_V\nabla\cdot\vec{F}dV
\end{align}$$</span><!-- Has MathJax --> å±±é‚„æ˜¯é‚£å€‹å±±</p>
<h3 id="ç”¨è¡¨é¢ç©åˆ†"><a href="#ç”¨è¡¨é¢ç©åˆ†" class="headerlink" title="ç”¨è¡¨é¢ç©åˆ†"></a>ç”¨è¡¨é¢ç©åˆ†</h3><p>å…¶å¯¦è¦å›ç­”é€™å€‹å•é¡Œ: â€œå‘é‡å ´ $\vec{F}$ ä½œç”¨æ–¼ $V$ ç”¢ç”Ÿçš„â€ç¸½â€æ·¨æµå‡ºé‡ç‚ºä½•?â€ é‚„å¯ä»¥å¾<strong>è¡¨é¢ç©åˆ†</strong>å‡ºç™¼!<br>ä¸€æ¨£å€Ÿç”¨ wiki çš„åœ– [<a href="https://www.wikiwand.com/en/articles/Flux" target="_blank" rel="external">Flux</a>]<br><img src="/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/image 10.png" width="60%" height="60%"> $\vec{F}$ ç©¿é surface $S$ çš„å¤§å°, åªèƒ½çœ‹ $\vec{F}$ èˆ‡ surface çš„ normal vector $\vec{n}$ å¹³è¡Œçš„å‘é‡åˆ†é‡<br>é€™æ˜¯å› ç‚ºå¦‚æœçœ‹èˆ‡ $\vec{n}$ å‚ç›´çš„åˆ†é‡çš„è©±, åªæœƒæµé€šæ–¼ surface $S$, ä¸æœƒæœ‰æµå…¥æµå‡º (ç©¿é) $S$ çš„ä½œç”¨.<br>æ‰€ä»¥æˆ‘å€‘åªéœ€è¦çœ‹ $\vec{F}\cdot\vec{n}$ é€™å€‹åˆ†é‡çš„çµæœ.</p>
<blockquote>
<p>æ³¨æ„å› ç‚º normal vector $\vec{n}$ æ˜¯æœå¤–æŒ‡å‡ºè¡¨é¢çš„, æ‰€ä»¥ $\vec{F}\cdot\vec{n}$ å·²ç¶“æ˜¯æµå‡ºé‡çš„æ„æ€äº†</p>
</blockquote>
<p>ç„¶å¾Œå°è¡¨é¢çš„æ¯å€‹é»ä¸Šè¿°åˆ†é‡éƒ½åŠ èµ·ä¾† (è¡¨é¢ç©åˆ†), æˆ‘å€‘ä¸å°±ä¹ŸåŒæ¨£å¾—åˆ°äº† â€œå‘é‡å ´ $\vec{F}$ ä½œç”¨æ–¼ $V$ ç”¢ç”Ÿçš„ç¸½æ·¨æµå‡ºé‡â€ äº†å—?<br>å¯«æˆæ•¸å­¸å¼å­ç‚º:<br><span>$$\begin{align}
\iint_S \vec{F}\cdot\vec{n}dS
\end{align}$$</span><!-- Has MathJax --> æœ‰æ™‚å€™æœƒçœ‹åˆ° <span>$\oiint_S$</span><!-- Has MathJax --> çš„å¯«æ³•, å…¶å¯¦ä¸­é–“é‚£å€‹åœˆåªæ˜¯ç”¨ä¾†è¡¨æ˜ $S$ æ˜¯å°é–‰çš„ surface è€Œå·².</p>
<h3 id="æ•£åº¦çš„é«”ç©åˆ†ç­‰æ–¼è¡¨é¢ç©åˆ†"><a href="#æ•£åº¦çš„é«”ç©åˆ†ç­‰æ–¼è¡¨é¢ç©åˆ†" class="headerlink" title="æ•£åº¦çš„é«”ç©åˆ†ç­‰æ–¼è¡¨é¢ç©åˆ†"></a>æ•£åº¦çš„é«”ç©åˆ†ç­‰æ–¼è¡¨é¢ç©åˆ†</h3><p>ç‰©ç†æ„ç¾©ä¸Š (9) ç­‰æ–¼ (10)! è€Œé€™å°±æ˜¯å¤§åé¼é¼çš„<strong>é«˜æ–¯æ•£åº¦å®šç† Gaussâ€™s Divergence Theorem</strong>:<br><span>$$\begin{align}
{\color{red}{\iiint_V\nabla\cdot\vec{F}dV = \iint_S \vec{F}\cdot\vec{n}dS}}
\end{align}$$</span><!-- Has MathJax --> æœ‰æ™‚å€™è¡¨é¢ç©åˆ†ä¸å¥½ç®—, å¯è—‰ç”±æ•£åº¦å®šç†è½‰æ›æˆé«”ç©åˆ†æœƒè®Šå¾—å¥½ç®—å¾ˆå¤š.</p>
<hr>
<h2 id="D-Mass-Conservation-or-Continuity-Equation"><a href="#D-Mass-Conservation-or-Continuity-Equation" class="headerlink" title="D. Mass Conservation or Continuity Equation"></a>D. Mass Conservation or Continuity Equation</h2><p>Gaussâ€™s Divergence Theorem çš„ä¸€å€‹é‡è¦æ‡‰ç”¨æ˜¯å¯ä»¥æ¨å°å‡º Mass conservation!</p>
<blockquote>
<p>é€™ä¸€æ®µå¯èƒ½è¤‡é›œä¸€äº›, å¿«çµæŸäº†! å¿«ç¢°åˆ°æ ¸å¿ƒäº†!</p>
</blockquote>
<p>å®šç¾© total mass in $V$ ç‚º: <span>$$\text{Total Mass}:=\iiint_V\rho dV$$</span><!-- Has MathJax --> å…¶ä¸­ $\rho$ ç‚ºå¯†åº¦: $\rho(x,y,z,t)$, æˆ–å¯« $\rho(\vec{x},t)$, æ³¨æ„åˆ°å¯†åº¦ä¹Ÿè·Ÿæ™‚é–“æœ‰é—œ, å¦‚å™´å°„æ©Ÿçš„ç©ºæ°£å¯†åº¦æœƒè®ŠåŒ–<br>æ‰€ä»¥ total mass å°æ™‚é–“çš„è®ŠåŒ–ç‚º: <span>$$\begin{align}
\frac{d}{d t}\iiint_V\rho dV
\end{align}$$</span><!-- Has MathJax --> (12) å¦‚æœæ˜¯æ­£çš„è¡¨ç¤º mass å¢åŠ , è² çš„è¡¨ç¤º mass æ¸›å°‘</p>
<blockquote>
<p>æ³¨æ„åˆ° (12) é€™è£¡ä¸å¯« $\partial/\partial t$ çš„åŸå› æ˜¯å°é«”ç©åˆ†å®Œå¾Œ, ç©ºé–“çš„ $\vec{x}$ è®Šé‡å·²ç¶“ä¸è¦‹äº†, åªå‰©æ™‚é–“ $t$, å› æ­¤å¯« total derivative</p>
</blockquote>
<p>è€ƒæ…®å‘é‡å ´ $\vec{F}_t$ å®šç¾©ç‚ºç²’å­çš„ç§»å‹•é€Ÿåº¦, æ³¨æ„åˆ°æˆ‘å€‘æœ‰ä¸‹æ¨™ $t$ è¡¨ç¤ºå‘é‡å ´å¯éš¨æ™‚é–“è®ŠåŒ–<br>ğŸ’¡ å› æ­¤å°æ–¼ <span>$\nabla\cdot\vec{F}_t(\vec{x}_0)$</span><!-- Has MathJax --> ç‰©ç†æ„ç¾©å°±æ˜¯: åœ¨æ™‚é–“ $t$ æ™‚, ä½ç½® $\vec{x}_0$ çš„â€å–®ä½é«”ç©â€ç²’å­çš„æ·¨æµå‡ºé‡<br>ğŸ’¡ å¦‚æœè€ƒæ…®å¯†åº¦å†è¨ˆç®—æ•£åº¦çš„è©±, i.e. <span>$\nabla\cdot(\rho(\vec{x}_0)\vec{F}_t(\vec{x}_0))$</span><!-- Has MathJax -->, å°±è®Šæˆ: åœ¨æ™‚é–“ $t$ æ™‚, ä½ç½® $\vec{x}_0$ çš„è³ªé‡æ·¨æµå‡ºé‡!<br>å¦‚åŒæ–‡ç« ä¹‹å‰æè¿°çš„è§€å¿µ volume $V$ çš„è³ªé‡è®ŠåŒ–åªæœƒç™¼ç”Ÿåœ¨è¡¨é¢çš„è³ªé‡è®ŠåŒ– (å› ç‚ºå…§éƒ¨çš„è³ªé‡è®ŠåŒ–ä¸å½±éŸ¿ total mass)! å¦‚åŒæˆ‘å€‘ä¸Šä¸€æ®µèªªæ˜è¡¨é¢ç©åˆ†çš„æ¦‚å¿µ, ç”¨æ•¸å­¸è¡¨ç¤ºç‚º:<br><span>$$\begin{align}
\iint_S\rho\vec{F}_t\cdot\vec{n}dS
\end{align}$$</span><!-- Has MathJax --> (13) å¦‚æœæ˜¯æ­£çš„è¡¨ç¤º mass æ¸›å°‘, è² çš„è¡¨ç¤º mass å¢åŠ  (å› ç‚º normal vector $\vec{n}$ æŒ‡å‘è¡¨é¢å¤–)<br>åŒæ¨£çš„, ç‰©ç†ä¸Š (12) è·Ÿ (13) å°è³ªé‡çš„æè¿°æ˜¯ç›¸åŒçš„, æ‰€ä»¥:<br><span>$$\begin{align}
\frac{\partial}{\partial t}\iiint_V\rho dV = -\iint_S\rho\vec{F}_t\cdot\vec{n}dS
\end{align}$$</span><!-- Has MathJax --> æ ¹æ“š Gaussâ€™s Divergence Theorem (11) å¯ä»¥æ”¹å¯« (14) çš„ RHS:<br><span>$$\begin{align}
\frac{\partial}{\partial t}\iiint_V\rho dV = -\iiint_V\nabla\cdot(\rho\vec{F}_t)dV \\
\Longrightarrow \iiint_V\left(
\frac{\partial\rho}{\partial t}+\nabla\cdot(\rho\vec{F}_t)
\right)dV=0
\end{align}$$</span><!-- Has MathJax --> å› ç‚º (16) å°ä»»ä½• closed volume $V$ éƒ½æˆç«‹, æ‰€ä»¥å¾—åˆ°å¦‚ä¸‹çš„ <strong>Mass Continuity Equation</strong>:<br><span>$$\begin{align}
{\color{orange}{\frac{\partial\rho}{\partial t}}}
+
{\color{green}{\nabla\cdot(\rho\vec{F}_t)=0}}
\end{align}$$</span><!-- Has MathJax --> å« continuity equation æ˜¯å› ç‚ºä¸è¦å¿˜è¨˜æˆ‘å€‘æœ‰å€‹æ¢ä»¶å°±æ˜¯ $\rho\vec{F}_t$ å¿…é ˆæ˜¯é€£çºŒçš„, equation (8), å¦å‰‡ Gauss Divergence Theorem å°±ä¸æˆç«‹<br>é€™å°±æ˜¯<strong>è³ªé‡å®ˆæ†çš„ Partial Differential Equation (PDE)</strong><br>&emsp;- <span>${\color{orange}{\partial \rho(\vec{x}_0,t)/\partial t}}$</span><!-- Has MathJax --> è¡¨ç¤ºä½ç½® $\vec{x}_0$ éš¨æ™‚é–“è®ŠåŒ–çš„å¯†åº¦è®ŠåŒ–, <strong>æ­£çš„è¡¨ç¤ºè³ªé‡æœƒå¢åŠ </strong><br>&emsp;- <span>${\color{green}{\nabla\cdot(\rho(\vec{x}_0,t)\vec{F}_t(\vec{x}_0))}}$</span><!-- Has MathJax --> è¡¨ç¤ºåœ¨æ™‚é–“ $t$ æ™‚, ä½ç½® $\vec{x}_0$ çš„è³ªé‡æ·¨æµå‡ºé‡! <strong>æ­£çš„è¡¨ç¤ºè³ªé‡æœƒæ¸›å°‘</strong><br>è€Œ <span>${\color{orange}{\partial \rho(\vec{x}_0,t)/\partial t}}$</span><!-- Has MathJax --> é€ æˆçš„è³ªé‡å¢åŠ è¦ç­‰æ–¼ <span>${\color{green}{\nabla\cdot(\rho(\vec{x}_0,t)\vec{F}_t(\vec{x}_0))}}$</span><!-- Has MathJax --> é€ æˆçš„è³ªé‡æ¸›å°‘, æ­¤ç‚º (17) ä»£è¡¨çš„ç‰©ç†æ„ç¾©.</p>
<p>ğŸ‘ğŸ» è³ªé‡å®ˆæ†!</p>
<hr>
<h2 id="E-è·Ÿ-Flow-Matching-æœ‰å•¥é—œè¯"><a href="#E-è·Ÿ-Flow-Matching-æœ‰å•¥é—œè¯" class="headerlink" title="E. è·Ÿ Flow Matching æœ‰å•¥é—œè¯?"></a>E. è·Ÿ Flow Matching æœ‰å•¥é—œè¯?</h2><p>æŠŠæ©Ÿç‡å¯†åº¦å‡½æ•¸æƒ³æˆä¸€å€‹çœŸå¯¦çš„ç‰©é«”, ç‰©é«”å¯†åº¦ $\rho(x)$ å°±æ˜¯æˆ‘å€‘çš„æ©Ÿç‡å¯†åº¦ $p(x)$.<br>åªæ˜¯è©²ç‰©é«”æ˜¯ç¸½è³ªé‡ç‚º $1$ è€Œå·² (å› ç‚ºæ©Ÿç‡ç¸½å’Œç‚º $1$)<br>æˆ‘å€‘å¾ä¸€å€‹å¸¸æ…‹åˆ†ä½ˆå‡ºç™¼â€¦ ä¸­é–“ä¸ç®¡ç¶“éæ€æ¨£çš„åˆ†ä½ˆè®ŠåŒ–, æœ€çµ‚å‡è¨­æˆ‘å€‘èƒ½è®ŠåŒ–æˆç›®æ¨™æ©Ÿç‡åˆ†ä½ˆ $q(x)$.</p>
<p>æ•´å€‹éç¨‹ Continuity Equation, æˆ–èªª Mass Convervation (17) éƒ½æ˜¯ä¸€ç›´è¦æ»¿è¶³çš„!</p>
<p>å› ç‚ºä¸ç®¡æ€éº¼è®Šéƒ½é‚„æ˜¯æ©Ÿç‡åˆ†ä½ˆ, ç¸½è³ªé‡éƒ½ç¶­æŒä¸è®Š $1$.<br>é€™å€‹æ ¸å¿ƒè§€å¿µæœƒè²«ç©¿æ•´å€‹ Flow matching è«–æ–‡è£¡. è‡³æ­¤çµ‚æ–¼å¯ä»¥é–‹å§‹å•ƒ flow matching äº†!</p>
<p>ä¸‹å›çœŸæ­£é–‹å§‹è¬›è§£ flow matching è«–æ–‡: <a href="https://bobondemon.github.io/2024/11/06/%E5%98%97%E8%A9%A6%E7%90%86%E8%A7%A3-Flow-Matching/">å˜—è©¦ç†è§£ Flow Matching</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>Post authorï¼š</strong>
      Chih-Sheng Chen
    </li>
    <li class="post-copyright-link">
      <strong>Post linkï¼š</strong>
      <a href="https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/" title="è®€ Flow Matching å‰è¦å…ˆç†è§£çš„æ±è¥¿">https://bobondemon.github.io/2024/10/29/è®€-Flow-Matching-å‰è¦å…ˆç†è§£çš„æ±è¥¿/</a>
    </li>
    <li class="post-copyright-license">
      <strong>Copyright Noticeï¼š </strong>
      All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
    </li>
  </ul>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Flow-Matching/" rel="tag"># Flow Matching</a>
          
            <a href="/tags/Continuity-Equation/" rel="tag"># Continuity Equation</a>
          
            <a href="/tags/Divergence/" rel="tag"># Divergence</a>
          
            <a href="/tags/Gauss-Divergence-Theorem/" rel="tag"># Gauss Divergence Theorem</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2024/10/18/é«˜ç¶­åº¦çš„å¸¸æ…‹åˆ†ä½ˆé•·å¾—åƒ-è›‹æ®¼/" rel="next" title="é«˜ç¶­åº¦çš„å¸¸æ…‹åˆ†ä½ˆé•·å¾—åƒ...è›‹æ®¼?">
                <i class="fa fa-chevron-left"></i> é«˜ç¶­åº¦çš„å¸¸æ…‹åˆ†ä½ˆé•·å¾—åƒ...è›‹æ®¼?
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2024/11/03/å‰–æç”Ÿæˆæ¨¡å‹çš„-Maximum-Likelihood-Estimation-MLE/" rel="prev" title="å‰–æç”Ÿæˆæ¨¡å‹çš„ Maximum Likelihood Estimation (MLE)">
                å‰–æç”Ÿæˆæ¨¡å‹çš„ Maximum Likelihood Estimation (MLE) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®éŒ„
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            æœ¬ç«™æ¦‚è¦½
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="Chih-Sheng Chen" />
          <p class="site-author-name" itemprop="name">Chih-Sheng Chen</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">103</span>
                <span class="site-state-item-name">æ–‡ç« </span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">åˆ†é¡</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">217</span>
                <span class="site-state-item-name">æ¨™ç±¤</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#A-Vector-Field"><span class="nav-number">1.</span> <span class="nav-text">A. Vector Field</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#B-Divergence-æ•£åº¦"><span class="nav-number">2.</span> <span class="nav-text">B. Divergence (æ•£åº¦)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å·¦é‚Šç•Œæ·¨æµå‡ºé‡"><span class="nav-number">2.1.</span> <span class="nav-text">å·¦é‚Šç•Œæ·¨æµå‡ºé‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å³é‚Šç•Œæ·¨æµå‡ºé‡"><span class="nav-number">2.2.</span> <span class="nav-text">å³é‚Šç•Œæ·¨æµå‡ºé‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#X-è»¸æ–¹å‘æ·¨æµå‡ºé‡"><span class="nav-number">2.3.</span> <span class="nav-text">X è»¸æ–¹å‘æ·¨æµå‡ºé‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Y-è»¸æ–¹å‘æ·¨æµå‡ºé‡"><span class="nav-number">2.4.</span> <span class="nav-text">Y è»¸æ–¹å‘æ·¨æµå‡ºé‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å–®ä½é¢ç©æ·¨æµå‡ºé‡"><span class="nav-number">2.5.</span> <span class="nav-text">å–®ä½é¢ç©æ·¨æµå‡ºé‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Divergence-æ•£åº¦ç‰©ç†æ„ç¾©"><span class="nav-number">2.6.</span> <span class="nav-text">Divergence æ•£åº¦ç‰©ç†æ„ç¾©</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C-Gaussâ€™s-Divergence-Theorem"><span class="nav-number">3.</span> <span class="nav-text">C. Gaussâ€™s Divergence Theorem</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç”¨é«”ç©åˆ†"><span class="nav-number">3.1.</span> <span class="nav-text">ç”¨é«”ç©åˆ†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#çœ‹å±±ä¸æ˜¯å±±"><span class="nav-number">3.2.</span> <span class="nav-text">çœ‹å±±ä¸æ˜¯å±±</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#çœ‹å±±é‚„æ˜¯å±±"><span class="nav-number">3.3.</span> <span class="nav-text">çœ‹å±±é‚„æ˜¯å±±</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç”¨è¡¨é¢ç©åˆ†"><span class="nav-number">3.4.</span> <span class="nav-text">ç”¨è¡¨é¢ç©åˆ†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ•£åº¦çš„é«”ç©åˆ†ç­‰æ–¼è¡¨é¢ç©åˆ†"><span class="nav-number">3.5.</span> <span class="nav-text">æ•£åº¦çš„é«”ç©åˆ†ç­‰æ–¼è¡¨é¢ç©åˆ†</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#D-Mass-Conservation-or-Continuity-Equation"><span class="nav-number">4.</span> <span class="nav-text">D. Mass Conservation or Continuity Equation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#E-è·Ÿ-Flow-Matching-æœ‰å•¥é—œè¯"><span class="nav-number">5.</span> <span class="nav-text">E. è·Ÿ Flow Matching æœ‰å•¥é—œè¯?</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chih-Sheng Chen</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼·åŠ›é©…å‹•
</div>

<div class="theme-info">
  ä¸»é¡Œ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      [object Object]
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      [object Object]
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



  



  




	





  





  





  






  





  

  

  

  

</body>
</html>
